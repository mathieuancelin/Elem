!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.Elem=e()}}(function(){var e;return function n(e,t,r){function o(a,u){if(!t[a]){if(!e[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=t[a]={exports:{}};e[a][0].call(l.exports,function(n){var t=e[a][1][n];return o(t?t:n)},l,l.exports,n,e,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n){function t(){}var r=n.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.MutationObserver,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var r=[];if(n){var o=document.createElement("div"),i=new MutationObserver(function(){var e=r.slice();r.length=0,e.forEach(function(e){e()})});return i.observe(o,{attributes:!0}),function(e){r.length||o.setAttribute("yes","no"),r.push(e)}}return t?(window.addEventListener("message",function(e){var n=e.source;if((n===window||null===n)&&"process-tick"===e.data&&(e.stopPropagation(),r.length>0)){var t=r.shift();t()}},!0),function(e){r.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=t,r.addListener=t,r.once=t,r.off=t,r.removeListener=t,r.removeAllListeners=t,r.emit=t,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],2:[function(e,n){var t=e("./src/patch").patch,r=e("./src/virtual_elements");n.exports={patch:t,elementVoid:r.elementVoid,elementOpenStart:r.elementOpenStart,elementOpenEnd:r.elementOpenEnd,elementOpen:r.elementOpen,elementClose:r.elementClose,text:r.text,attr:r.attr}},{"./src/patch":7,"./src/virtual_elements":10}],3:[function(e,n){var t=e("./nodes"),r=t.createNode,o=t.getKey,i=t.getNodeName,a=t.getChild,u=t.registerChild,c=e("./traversal").markVisited,s=e("./walker").getWalker,l=function(e,n,t){return e&&t===o(e)&&n===i(e)},f=function(e,n,t){var o,i=s(),f=i.currentNode,d=i.getCurrentParent();if(l(f,e,n))o=f;else{var p=n&&a(d,n);p?o=p:(o=r(i.doc,e,n,t),u(d,n,o)),d.insertBefore(o,f),i.currentNode=o}return c(d,o),o};n.exports={alignWithDOM:f}},{"./nodes":6,"./traversal":8,"./walker":11}],4:[function(e,n){var t=e("./node_data").getData,r=function(e,n,r){var o=t(e),i=o.attrs;if(i[n]!==r){var a=typeof r;void 0===r?e.removeAttribute(n):"object"===a||"function"===a?e[n]=r:e.setAttribute(n,r),i[n]=r}},o=function(e,n){if("string"==typeof n||n instanceof String)e.style.cssText=n;else{e.style.cssText="";for(var t in n)e.style[t]=n[t]}},i=function(e,n,t){switch(n){case"id":e.id=t;break;case"class":e.className=t;break;case"tabindex":e.tabIndex=t;break;case"style":o(e,t);break;default:r(e,n,t)}};n.exports={updateAttribute:i}},{"./node_data":5}],5:[function(e,n){function t(e,n){this.attrs={},this.attrsArr=[],this.newAttrs={},this.key=n,this.keyMap=null,this.lastVisitedChild=null,this.nodeName=e,this.text=null}var r=function(e,n,r){var o=new t(n,r);return e.__incrementalDOMData=o,o},o=function(e){var n=e.__incrementalDOMData;if(!n){var t=e.nodeName.toLowerCase(),o=null;e instanceof Element&&(o=e.getAttribute("key")),n=r(e,t,o)}return n};n.exports={getData:o,initData:r}},{}],6:[function(e,n){var t=e("./attributes").updateAttribute,r=e("./node_data"),o=r.getData,i=r.initData,a=function(e,n,r,o){var a=e.createElement(n);if(i(a,n,r),o)for(var u=0;u<o.length;u+=2)t(a,o[u],o[u+1]);return a},u=function(e,n){var t=e.createTextNode(n);return o(t).text=n,t},c=function(e,n,t,r){return"#text"===n?u(e,r):a(e,n,t,r)},s=function(e){for(var n={},t=e.children,r=t.length,o=0;r>o;o+=1){var i=t[o],a=l(i);a&&(n[a]=i)}return n},l=function(e){return o(e).key},f=function(e){return o(e).nodeName},d=function(e){var n=o(e);return n.keyMap||(n.keyMap=s(e)),n.keyMap},p=function(e,n){return d(e)[n]},m=function(e,n,t){n&&(d(e)[n]=t)};n.exports={createNode:c,getKey:l,getNodeName:f,getChild:p,registerChild:m}},{"./attributes":4,"./node_data":5}],7:[function(e,n){var t=e("./traversal"),r=t.firstChild,o=t.parentNode,i=e("./tree_walker"),a=e("./walker"),u=a.getWalker,c=a.setWalker,s=function(e,n){var t=u();c(new i(e)),r(),n(),o(),c(t)};n.exports={patch:s}},{"./traversal":8,"./tree_walker":9,"./walker":11}],8:[function(e,n){var t=e("./walker").getWalker,r=e("./node_data").getData,o=function(e){var n=r(e);n.lastVisitedChild=null},i=function(e){var n=r(e),t=n.lastVisitedChild;if(e.lastChild!==t){for(;e.lastChild!==t;)e.removeChild(e.lastChild);n.keyMap=null}},a=function(e,n){var t=r(e);t.lastVisitedChild=n},u=function(){var e=t();o(e.currentNode),e.firstChild()},c=function(){var e=t();e.nextSibling()},s=function(){var e=t();e.parentNode(),i(e.currentNode)};n.exports={firstChild:u,nextSibling:c,parentNode:s,markVisited:a}},{"./node_data":5,"./walker":11}],9:[function(e,n){function t(e){this.stack_=[],this.currentNode=e,this.doc=e.ownerDocument}t.prototype.getCurrentParent=function(){return this.stack_[this.stack_.length-1]},t.prototype.firstChild=function(){this.stack_.push(this.currentNode),this.currentNode=this.currentNode.firstChild},t.prototype.nextSibling=function(){this.currentNode=this.currentNode.nextSibling},t.prototype.parentNode=function(){this.currentNode=this.stack_.pop()},n.exports=t},{}],10:[function(e,n){(function(t){var r=e("./alignment").alignWithDOM,o=e("./attributes").updateAttribute,i=e("./node_data").getData,a=(e("./walker").getWalker,e("./traversal")),u=a.firstChild,c=a.nextSibling,s=a.parentNode,l=3,f=[];if("production"!==t.env.NODE_ENV)var d=!1,p=function(){if(d)throw new Error("Was not expecting a call to attr or elementOpenEnd, they must follow a call to elementOpenStart.")},m=function(){if(!d)throw new Error("Was expecting a call to attr or elementOpenEnd. elementOpenStart must be followed by zero or more calls to attr, then one call to elementOpenEnd.")},v=function(){d=!0},h=function(){d=!1};var g=function(){var e,n=i(this),t=n.attrsArr,r=!1;for(e=l;e<arguments.length;e+=2)if(t[e-l>>1]!==arguments[e+1]){r=!0;break}if(r)for(e=l;e<arguments.length;e+=2)t[e-l>>1]=arguments[e+1];return r},y=function(){var e=this,n=i(e),t=n.newAttrs;for(var r in t)t[r]=void 0;for(var o=l;o<arguments.length;o+=2)t[arguments[o]]=arguments[o+1];return t},b=function(e,n){for(var t in n)o(e,t,n[t])},_=function(e,n,o){"production"!==t.env.NODE_ENV&&p();var i=r(e,n,o);if(g.apply(i,arguments)){var a=y.apply(i,arguments);b(i,a)}u()},E=function(e,n,r){"production"!==t.env.NODE_ENV&&(p(),v()),f[0]=e,f[1]=n,f[2]=r,f.length=l},w=function(e,n){"production"!==t.env.NODE_ENV&&m(),f.push(e,n)},k=function(){"production"!==t.env.NODE_ENV&&(m(),h()),_.apply(null,f)},x=function(){"production"!==t.env.NODE_ENV&&p(),s(),c()},S=function(){"production"!==t.env.NODE_ENV&&p(),_.apply(null,arguments),x.apply(null,arguments)},N=function(e){"production"!==t.env.NODE_ENV&&p();var n=r("#text",null,e),o=i(n);o.text!==e&&(n.data=e,o.text=e),c()};n.exports={elementOpenStart:E,elementOpenEnd:k,elementOpen:_,elementVoid:S,elementClose:x,text:N,attr:w}}).call(this,e("_process"))},{"./alignment":3,"./attributes":4,"./node_data":5,"./traversal":8,"./walker":11,_process:1}],11:[function(e,n){var t,r=function(){return t},o=function(e){t=e};n.exports={getWalker:r,setWalker:o}},{}],12:[function(e,n,t){var r=e("./utils"),o=r.memoGobalObject();t.debug=!1,t.perfs=!1,t.voidElements=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"],t.events=["wheel","scroll","touchcancel","touchend","touchmove","touchstart","click","doubleclick","drag","dragend","dragenter","dragexit","dragleave","dragover","dragstart","drop","change","input","submit","focus","blur","keydown","keypress","keyup","copy","cut","paste","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup"];var i={mark:function(){},measure:function(){},getEntriesByName:function(){return[]},getEntriesByType:function(){return[]},clearMarks:function(){},clearMeasures:function(){}};"undefined"==typeof o&&(o={__fake:!0}),"undefined"==typeof o.console&&(o.console={log:function(){},error:function(){},table:function(){},debug:function(){},trace:function(){}}),"undefined"!=typeof o.performance&&"undefined"!=typeof o.performance.mark&&"undefined"!=typeof o.performance.measure&&(i=o.performance),o.requestAnimationFrame=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame||function(){return o.console&&console.error("[ELEMJS] No requestAnimationFrame, using lame polyfill ..."),function(e){o.setTimeout(e,1e3/60)}}();var a="ElemMeasureStart",u="ElemMeasureStop",c="ElemComponentRenderingMeasure",s=[c];t.markStart=function(e){t.perfs&&i.mark(e?e+"_start":a)},t.markStop=function(e){t.perfs&&(e?(i.mark(e+"_stop"),i.measure(e,e+"_start",e+"_stop"),r.contains(s,e)||s.push(e)):(i.mark(u),i.measure(c,a,u)))},t.collectMeasures=function(){if(!t.perfs)return[];var e=[];return r.each(s,function(n){e=e.concat(i.getEntriesByName(n))}),i.clearMarks(),i.clearMeasures(),s=[c],e},t.printMeasures=function(){t.perfs&&o.console&&console.table(t.collectMeasures())},t.defer=function(e){o.requestAnimationFrame.call(o,e)},t.defered=function(e){return function(){t.defer(e)}},t.__internalAccess={},Function.prototype.bind||(o.console&&console.error("[ELEMJS] No Function.prototype.bind, using polyfill ..."),Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - can't call bounded element");var n=Array.prototype.slice.call(arguments,1),t=this,r=function(){},o=function(){return t.apply(this instanceof r&&e?this:e,n.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o})},{"./utils":20}],13:[function(e,n,t){function r(e,n){return e.attributes&&e.attributes["data-"+n]}function o(e,n){return e.dataset?e.dataset[n]:e.attributes["data-"+n]}function i(e){d[e]&&(d[e](),delete d[e])}function a(e,n){function t(){s.markStart(u+".globalRendering"),f.each(g,function(e){delete h[e]}),g=[];var t=document.activeElement||{},r=t.dataset?t.dataset.key:(t.attributes||[]).key;n.context.refs={};var o=[];f.each(y,function(e){i(e)}),y=[],_(m,f.clone(v),n.context),s.markStart(u+".render");var c=E(m,f.clone(v),n.context);if(s.markStop(u+".render"),a.render(c,e,{waitingHandlers:o,__rootListener:!0,refs:n.context.refs,__innerComponents:y}),w(m,f.clone(v),n.context),r){var l=document.querySelector('[data-key="'+r+'"]');if(f.focus(l),l.value){var d=2*l.value.length;l.setSelectionRange(d,d)}}f.each(o,function(e){g.push(e.id+"_"+e.event.replace("on","")),h[e.id+"_"+e.event.replace("on","")]=function(){e.callback.apply({render:E},arguments)}}),s.markStop(u+".globalRendering")}var a=s.__internalAccess.api,u=n.name||"Component",c=n.defaultProps||function(){return{}},p=n.initialState||function(){return{}},m=l(p()),v=c();n.props=v,n.state=m.all(),n.setState=m.set,n.replaceState=m.replace,m.onChange(function(){n.state=m.all()});var h={},g=[],y=[];f.each(f.keys(n),function(e){f.isFunction(n[e])&&(n[e]=n[e].bind(n))});var b=n.init||function(){},_=n.beforeRender||function(){},E=n.render||function(){},w=n.afterRender||function(){},k=n.unmount||function(){},x=function(){return f.findNode(e)};n.context={refs:{},getDOMNode:x};var S=function(e){e=e||window.event;var n=e.target||e.srcElement,t=o(n,"nodeid")+"_"+e.type;if(h[t])h[t](e);else{for(;!h[t]&&n&&null!==n&&r(n,"nodeid");)n=n.parentElement,n&&null!==n&&r(n,"nodeid")&&(t=o(n,"nodeid")+"_"+e.type);h[t]&&h[t](e)}};return i(e),d[e]=function(){k(m,f.clone(v),n.context),m.replace({},!0),f.off(e,s.events,S)},b(m,f.clone(v)),f.on(e,s.events,S),t(),m.onChange(t),m}function u(e,n){var t=s.__internalAccess.api,r=e.name||"Component",o=e.defaultProps||function(){return{}},i=e.initialState||function(){return{}},a=l(i()),u=o();e.props=u,e.state=a.all(),e.setState=a.set,e.replaceState=a.replace,e.context={refs:p,getDOMNode:function(){}},f.each(f.keys(e),function(n){f.isFunction(e[n])&&(e[n]=e[n].bind(e))});var c=e.render,d=e.afterRender||function(){};e.init&&e.init(a,f.clone(u)),s.markStart(r+".globalRendering");var p={};s.markStart(r+".render");var m=c(a,f.clone(u),e.context);s.markStop(r+".render");var v=t.renderToString(m,{waitingHandlers:[],__rootListener:!0,refs:p,__noDataId:n,__innerComponents:[]});return d(a,f.clone(u),e.context),s.markStop(r+".globalRendering"),v}function c(e){var n={};return e.defaultProps&&(n=e.defaultProps()),function(t,r){var o={__componentFactory:!0,renderToStaticHtml:function(){var r=f.clone(e);return r.props=f.extend(f.clone(n||{}),t||{}),u(r,!0)},renderToString:function(){var r=f.clone(e);return r.props=f.extend(f.clone(n||{}),t||{}),u(r)},renderTo:function(r,o){var i=f.clone(e);return i.defaultProps=function(){return f.extend(f.clone(n||{}),t||{})},o?void s.defer(function(){a(r,i)}):a(r,i)}};return r?o.renderTo(r):o}}var s=e("./common"),l=e("./state"),f=e("./utils"),d={};t.unmountComponent=i,t.component=function(e){if(!e.container)return c(e);var n=e.container;a(n,e)},t.componentToString=function(e){var n=f.clone(e);return n.props=f.extend(f.clone(e.props||{}),props||{}),u(n)}},{"./common":12,"./state":19,"./utils":20}],14:[function(n,t,r){function o(e){if(m.isUndefined(e))return"";var n=m.map(m.keys(e),function(n){var t=m.dasherize(n);"className"===n&&(t="class");var r=e[n];return!m.isUndefined(r)&&m.isFunction(r)&&(r=r()),m.isUndefined(r)?void 0:t+": "+r+";"});return n=m.filter(n,function(e){return!m.isUndefined(e)}),n.join(" ")}function i(e){if(m.isUndefined(e))return[];var n=m.map(m.keys(e),function(n){var t=e[n];return m.isUndefined(t)||t!==!0?void 0:m.dasherize(n)});return n=m.filter(n,function(e){return!m.isUndefined(e)})}function a(e){return 0===e?e:""===e?[]:e||[]}function u(e){return{getDOMNode:function(){return m.findNode('[data-nodeid="'+e+'"]')}}}function c(e,n,t){m.each(m.keys(e),function(r){var o=m.dasherize(r);m.startsWith(o,"on")&&t&&t.waitingHandlers&&t.waitingHandlers.push({root:t.root,id:n,event:o.toLowerCase(),callback:e[r]}),"ref"===o&&t&&t.refs&&(t.refs[e[r]]=u(n))})}function s(e,n){return{key:e,value:n}}function l(e){if(m.isUndefined(e))return[];var n=[];return m.each(m.keys(e),function(t){var r=m.dasherize(t);if("className"===t&&(r="class"),!m.startsWith(r,"on")&&"ref"!==r){var a=e[t];!m.isUndefined(a)&&m.isFunction(a)&&(a=a()),m.isUndefined(a)||n.push(m.isObject(a)&&"style"===r?s("style",o(a)):m.isArray(a)&&"class"===r?s(r,a.join(" ")):m.isObject(a)&&"class"===r?s(r,i(a).join(" ")):s(r,a))}}),n}function f(e,n,t){var r=n.namespace;delete n.namespace;var o=m.uniqueId("node_");!m.isUndefined(t)||m.isUndefined(n)||n.__isAttrs||(t=n,n={}),arguments.length>3&&(e=arguments[0],n=n.isElement?{}:arguments[1],t=[].concat(arguments),t.shift(),t.shift()),e=m.escape(e)||"unknown",n=n||{},t=a(t),(m.isRegExp(t)||m.isUndefined(t)||m.isNull(t))&&(t=[]),m.isArray(t)&&(t=m.chain(t).map(function(e){return m.isFunction(e)?e():e}).filter(function(e){return!m.isUndefined(e)}).value());var i=m.contains(p.voidElements,e.toUpperCase())&&(m.isNull(t)||m.isUndefined(t)||m.isArray(t)&&0===t.length),u=l(n);return u.push(s("data-nodeid",m.escape(o))),p.debug&&u.push(s("title",m.escape(o))),{name:e,attrs:n,children:t,isElement:!0,nodeId:o,outputWith:function(a,s){function l(e,n){if(m.isNumber(e))n.appendChild(a.createTextNode(e+""));else if(m.isString(e))n.appendChild(a.createTextNode(e));else if(m.isBoolean(e))n.appendChild(a.createTextNode(e+""));else if(m.isObject(e)&&e.isElement)n.appendChild(e.outputWith(a,s));else if(m.isObject(e)&&e.__asHtml)n.innerHTML=e.__asHtml;else if(e.__componentFactory){var t=m.escape(m.uniqueId("component_")),r=a.createElement("span",[{key:"data-componentid",value:t}]);n.appendChild(r),s.__innerComponents.push('[data-componentid="'+t+'"]'),e.renderTo('[data-componentid="'+t+'"]',!0)}else n.appendChild(a.createTextNode(e.toString()))}this.name;c(n,o,s);var f=void 0;return f=r?a.createElementNS(r,m.escape(e),u):a.createElement(m.escape(e),u),i||(m.isArray(t)?m.each(t,function(e){l(e,f)}):l(t,f)),f}}}function d(e,n,t){return m.isFunction(e)&&(e=e((t||{props:{}}).props)),m.isUndefined(e)?{render:function(){throw new Error("Your element is undefined")}}:e.outputWith(n,t)}var p=n("./common"),m=n("./utils"),v=n("./component"),h=n("./state"),g=n("./webcomponent").registerWebComponent,y=n("./output/stringify"),b=n("./events");r.svgNS="http://www.w3.org/2000/svg";var _=n("./output/output");r.renderToJson=function(e,n){p.markStart("Elem.renderToJson");var t=_(n),r=d(e,t).render();return p.markStop("Elem.renderToJson"),r},r.renderToJsonString=function(e,n,t){return t?Json.stringify(r.renderToJson(e,n),null,2):Json.stringify(r.renderToJson(e,n))},r.renderToString=function(e,n){p.markStart("Elem.renderToString");var t=y(n),r=d(e,t).render();return p.markStop("Elem.renderToString"),r},r.renderToStaticHtml=function(e){p.markStart("Elem.renderToStaticHtml");var n=d(e,y({__noDataId:!0})).render();return p.markStop("Elem.renderToStaticHtml"),n},r.el=f,r.sel=function(e,n){return f(e,{},n)},r.vel=function(e,n){return f(e,n,[])},r.svg=function(e,n,t){return n.namespace=r.svgNS,t?f(e,n,t):f(e,{},n)},r.vsvg=function(e,n){return n.namespace=r.svgNS,f(e,n,[])},r.nbsp=function(e){return f("span",{__asHtml:m.times(e||1,function(){return"&nbsp;"})})},r.text=function(e){return f("span",{},e)},r.renderWith=function(e){p.markStart("Elem.renderWith");var n={},t={};2===arguments.length&&(n=arguments[1]),3===arguments.length&&(t=arguments[1],n=arguments[2]),t=t||{};var r=t.waitingHandlers||[],o=t.refs||{},i=t.props||{},a=t.__innerComponents||[],u=d(e,n,{waitingHandlers:r,refs:o,props:i,__innerComponents:a});return t.__rootListener||m.each(r,function(e){console.log('reg on [data-nodeid="'+e.id+'"] of types '+e.event.replace("on","")),m.on('[data-nodeid="'+e.id+'"]',[e.event.replace("on","")],function(){console.log('event on [data-nodeid="'+e.id+'"] of type '+e.event),e.callback.apply({},arguments)})}),p.markStop("Elem.renderWith"),u};var E=n("./output/incrementaldom");r.render=function(e,n,t){p.markStart("Elem.render");var o=E(t);r.renderWith(e,t,o).render(n),p.markStop("Elem.render")},r.unmountComponent=v.unmountComponent,r.component=v.component,r.componentToString=v.componentToString,r.state=h,r.Utils=m,r.registerWebComponent=g,r.dispatcher=b,r.Perf={start:function(){p.perfs=!0},stop:function(){p.stop=!1},markStart:p.markStart,markStop:p.markStop,collectMeasures:p.collectMeasures,printMeasures:p.printMeasures},r.defer=p.defer,r.predicate=function(e,n){return m.isFunction(e)?e()===!0?n:void 0:e===!0?n:void 0},r.style=function(e){var n={},t=m.keys(e);return m.each(t,function(t){var r=e[t];m.isObject(r)&&(n[t]=m.extend({},{extend:function(e){return m.extend({},e,r)}},r))}),n.extend=m.extend({},{extend:function(n){return m.extend({},n,e)}},e),n},p.__internalAccess.api=r,"function"==typeof e&&e.amd&&e("elem",[],function(){return t.exports})},{"./common":12,"./component":13,"./events":15,"./output/incrementaldom":16,"./output/output":17,"./output/stringify":18,"./state":19,"./utils":20,"./webcomponent":21}],15:[function(e,n){var t=e("./utils"),r=/\s+/;n.exports=function(){function e(e,o){var i=[e];r.test(e)&&(i=e.split(r)),t.each(i,function(e){t.each(n,function(n){"all"===n.name?n.callback(e,o):n.name===e&&n.callback(o)})})}var n=[];return{trigger:e,dispatch:e,on:function(e,t){this.off(e,t),n.push({name:e,callback:t})},off:function(e,r){n=t.filter(n,function(n){return n.name===e&&n.callback===r?!1:!0})}}}},{"./utils":20}],16:[function(e,n){var t=e("../utils"),r=e("../common"),o=e("incremental-dom"),i=o.elementOpen,a=o.elementClose,u=o.elementVoid,c=o.text,s=(o.attr,o.patch);n.exports=function(e){function n(e,n){n=n||[];var o=[];return{appendChild:function(e){o.push(e)},render:function(c){function l(){var c=t.contains(r.voidElements,e.toUpperCase())&&0===o.length,s=[];t.each(n,function(e){s.push(e.key),s.push(e.value)}),c?u.apply(null,[e,n.key||"",null].concat(s)):(i.apply(null,[e,n.key||"",null].concat(s)),t.each(o,function(e){e.render()}),a(e))}if(c){var f=document;c.ownerDocument&&(f=c.ownerDocument),t.isString(c)&&(c=f.querySelector(c)),s(c,l)}else l()}}}function o(e,t,r){return n(t,r,e)}function l(e,t){return n(e,t)}function f(e){return{render:function(){c(e)}}}e=e||{};document;return{name:"IncrementalDOMOuput",createTextNode:f,createElementNS:o,createElement:l}}},{"../common":12,"../utils":20,"incremental-dom":2}],17:[function(e,n){var t=e("../utils");n.exports=function(e){function n(e,n){var n=n||[],r=[];return{appendChild:function(e){r.push(e)},render:function(){return{name:e,attrs:n,children:t.map(r,function(){return r.render()})}}}}function r(e,t,r){return n(t,r,e)}function o(e,t){return n(e,t)}function i(e){return{render:function(){return e}}}return e=e||{},{name:"JsonOutput",createTextNode:i,createElementNS:r,createElement:o}}},{"../utils":20}],18:[function(e,n){var t=e("../common"),r=e("../utils");n.exports=function(e){function n(n,o){var o=o||[],i=[];return{appendChild:function(e){i.push(e)},render:function(){if(this.value){var a=this.value;i.push({render:function(){return a}})}if(this.innerHTML){var u=this.innerHTML;i.push({render:function(){return u}})}o=r.map(o,function(n){var t=n.key,r=n.value;return"data-nodeid"===t?e.__noDataId?"":'data-snodeid="'+r+'"':t+'="'+r+'"'});var c=r.contains(t.voidElements,n.toUpperCase())&&0===i.length;return c?"<"+n+" "+o.join(" ")+" />":"<"+n+" "+o.join(" ")+">"+r.map(i,function(e){return e.render()}).join("")+"</"+n+">"}}}function o(e,t,r){return n(t,r,e)}function i(e,t){return n(e,t)}function a(e){return{render:function(){return e}}}return e=e||{},{name:"StringOutput",createTextNode:a,createElementNS:o,createElement:i}}},{"../common":12,"../utils":20}],19:[function(e,n){var t=e("./utils");n.exports=function(e){function n(){t.each(i,function(e){e()})}function r(e,r){var i=t.isBoolean(r)&&r===!0;!t.isUndefined(e)&&t.isObject(e)&&(t.map(t.keys(e),function(n){o[n]=e[n]}),i||n(),i||(r||function(){})())}var o=t.extend({},e||{}),i=[],a=function(){return t.clone(o)};return t.extend(a,{onChange:function(e){i.push(e)},get:function(e){return o[e]},all:function(){return t.clone(o)},forceUpdate:function(){n()},set:r,replace:function(e,n){o={},r(e,n)},remove:function(e){delete o[e],n()}})}},{"./utils":20}],20:[function(e,n,t){(function(e){function n(){return void 0!==typeof self?self:void 0!==typeof e?e:void 0!==typeof window?window:new Function("return this")()}function r(e){if(!S(e))return[];if(Object.keys)return Object.keys(e);var n=[];for(var t in e)D(e,t)&&n.push(t);return n}function o(e){for(var n=n(e),t=n.length,r=Array(t),o=0;t>o;o++)r[o]=e[n[o]];return r}function i(e,n,t){if(null==e)return-1;var r=0,o=e.length;if(t){if("number"!=typeof t)return r=sortedIndex(e,n),e[r]===n?r:-1;r=0>t?Math.max(0,o+t):t}for(;o>r;r++)if(e[r]===n)return r;return-1}function a(e,n){if(null==e)return e;var t,r=e.length;if(r===+r)for(t=0;r>t;t++)n(e[t],t,e);else{var o=o(e);for(t=0,r=o.length;r>t;t++)n(e[o[t]],o[t],e)}return e}function u(e,n){if(null==e)return[];for(var t,r=e.length!==+e.length&&r(e),o=(r||e).length,i=Array(o),a=0;o>a;a++)t=r?r[a]:a,i[a]=n(e[t],t,e);return i}function c(e,n){var t=[];return null==e?t:(a(e,function(e,r,o){n(e,r,o)&&t.push(e)}),t)}function s(e,n,t){null==e&&(e=[]);var r,o=e.length!==+e.length&&o(e),i=(o||e).length,a=0;if(arguments.length<3){if(!i)throw new TypeError(reduceError);t=e[o?o[a++]:a++]}for(;i>a;a++)r=o?o[a]:a,t=n(t,e[r],r,e);return t}function l(e,n,t){return c(e,v(n),t)}function f(e,n){return c(e,d(n))}function d(e){var n=n(e),t=n.length;return function(e){if(null==e)return!t;e=new Object(e);for(var r=0;t>r;r++){var o=n[r],i=o[0];if(o[1]!==e[i]||!(i in e))return!1}return!0}}function p(e){return e}function m(e){return function(n){return n[e]}}function v(e){return function(){return!e.apply(this,arguments)}}function h(e){for(var n=n(e),t=n.length,r=Array(t),o=0;t>o;o++)r[o]=[n[o],e[n[o]]];return r}function g(e){function n(){return{value:function(){return t},map:function(e){return t=r.map(t,e),this},filter:function(e){return t=r.filter(t,e),this},each:function(e){return r.each(t,e),this},values:function(){return r.values()},keys:function(){return r.keys()},reduce:function(e,n,o){return r.reduce(t,e,n,o)},reject:function(e,n){return t=r.reject(t,e,n),this},where:function(e){return t=r.where(t,e),this}}}var t=e,r=this;return n()}function y(e,n){return null==e?!1:(e.length!==+e.length&&(e=o(e)),i(e,n)>=0)}function b(e){var n=++V.__ElemInternals.Utils.__idCounter+"";return e?e+n:n}function _(e,n){for(var t=[],r=0;e>r;r++)t.push(n(e));return t}function E(e){return S(e)?x(e)?e.slice():w({},e):e}function w(e){if(!S(e))return e;for(var n,t,r=1,o=arguments.length;o>r;r++){n=arguments[r];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}function k(e){return void 0===e}function x(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function S(e){var n=typeof e;return"function"===n||"object"===n&&!!e}function N(e){return"[object Number]"===Object.prototype.toString.call(e)}function O(e){return"[object String]"===Object.prototype.toString.call(e)}function C(e){return e===!0||e===!1||"[object Boolean]"===Object.prototype.toString.call(e)}function A(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function M(e){return"[object Function]"===Object.prototype.toString.call(e)}function T(e){return null===e}function j(e){return N(e)&&e!==+e}function D(e,n){return null!=e&&Object.prototype.hasOwnProperty.call(e,n)}function U(e){return e.replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase().replace(/_/g,"-")}function F(e,n){return 0===e.indexOf(n)}function L(e){e.focus&&e.focus()}function W(e){return e===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(e.type||e.href||~e.tabIndex)}function R(e,n,t){try{var r=O(e)?document.querySelector(e):e;a(n,function(e){r&&null!==r&&(n.length<10&&console.log("add listener for ",n),r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.addEventListener(e,t))})}catch(o){console.error(o)}}function I(e,n,t){var r=O(e)?document.querySelector(e):e;a(n,function(e){r&&null!==r&&r.removeEventListener&&r.removeEventListener(e,t,!1)})}function q(e){return document.querySelector(e)}function B(e,n){var t=n;t||(t="");var r,o={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]instanceof Object?B(e[r],r+"."):t+r);return o}function H(e){var n=void 0;return function(){return n||(n=e()),n}}var V=n()||{};V.__ElemInternals=V.__ElemInternals||{},V.__ElemInternals.Utils=V.__ElemInternals.Utils||{},V.__ElemInternals.Utils.__idCounter=V.__ElemInternals.Utils.__idCounter||0;var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},J=function(e,n){var t=function(n){return e[n]},r="(?:"+n(e).join("|")+")",o=RegExp(r),i=RegExp(r,"g");return function(e){return e=null==e?"":""+e,o.test(e)?e.replace(i,t):e}};t.escape=J(P,r),t.keys=r,t.values=o,t.indexOf=i,t.each=a,t.map=u,t.filter=c,t.chain=g,t.contains=y,t.uniqueId=b,t.times=_,t.clone=E,t.extend=w,t.isUndefined=k,t.isArray=x,t.isObject=S,t.isNumber=N,t.isString=O,t.isBoolean=C,t.isRegExp=A,t.isFunction=M,t.isNull=T,t.isNaN=j,t.has=D,t.dasherize=U,t.startsWith=F,t.focus=L,t.hasFocus=W,t.on=R,t.off=I,t.findNode=q,t.reduce=s,t.reject=l,t.where=f,t.matches=d,t.negate=v,t.property=m,t.identity=p,t.pairs=h,t.keyMirror=B,t.globalObject=n,t.memoize=H,t.memoGobalObject=H(n)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,n,t){function r(e,n){var t=document,r=Object.create(HTMLElement.prototype);r.createdCallback=function(){var e=i.extend({},n);this._id=i.uniqueId("WebComponent_");var r={};for(var a in this.attributes){var u=this.attributes[a];r[u.name]=u.value}this.props=r;var s=void 0;if(s=t.createElement("content"),s.setAttribute("class","elemcomponent"),s.setAttribute("id",this._id),r.shadow){var l=this.createShadowRoot();l.appendChild(s)}else this.appendChild(s);this._theNode=s,this._internalBus=o(),this._internalBus._trigger=this._internalBus.trigger,this._internalBus.trigger=function(e,n){c.trigger("ElemEvent",{name:e,id:this._id,payload:n})}.bind(this),c.on("ElemEvent",function(e){var n=e.id;if(n!==this._id){var t=e.name,r=e.payload;this._internalBus._trigger(t,r)}}.bind(this)),r.componentsBus=this._internalBus,this.renderedElement=r.renderOnly&&r.renderOnly===!0?Elem.render(e,node):Elem.component({container:s,init:e.init,render:e.render,defaultProps:function(){return r},initialState:e.initialState})},r.attributeChangedCallback=function(e,t,r){var o=i.extend({},n);this.props[e]=r;var a=this.props;this.renderedElement=this.props.renderOnly&&this.props.renderOnly===!0?Elem.render(o,this._node):Elem.component({container:this._node,init:o.init,render:o.render,props:a,state:o.state})},a(e,{prototype:r})}var o=e("./events"),i=e("./utils"),a=void 0;try{a=(document.registerElement||document.register||function(){window.console&&console.error("[ELEMJS] No registerElement function, webcomponents will not work !!!")}).bind(document)}catch(u){}var c=o();t.registerWebComponent=a?r:function(){window.console&&console.error("[ELEMJS] WebComponent not available here :(")}},{"./events":15,"./utils":20}]},{},[14])(14)});
//# sourceMappingURL=elem.min.map