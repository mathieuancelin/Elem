!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.Elem=e()}}(function(){var e;return function n(e,t,r){function o(u,a){if(!t[u]){if(!e[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[u]={exports:{}};e[u][0].call(f.exports,function(n){var t=e[u][1][n];return o(t?t:n)},f,f.exports,n,e,t,r)}return t[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(){},{}],2:[function(e,n){var t=e("./vdom/create-element.js");n.exports=t},{"./vdom/create-element.js":9}],3:[function(e,n){var t=e("./vtree/diff.js");n.exports=t},{"./vtree/diff.js":25}],4:[function(e,n){(function(t){var r="undefined"!=typeof t?t:"undefined"!=typeof window?window:{},o=e("min-document");if("undefined"!=typeof document)n.exports=document;else{var i=r["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),n.exports=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":1}],5:[function(e,n){"use strict";n.exports=function(e){return"object"==typeof e&&null!==e}},{}],6:[function(e,n){function t(e){return"[object Array]"===o.call(e)}var r=Array.isArray,o=Object.prototype.toString;n.exports=r||t},{}],7:[function(e,n){var t=e("./vdom/patch.js");n.exports=t},{"./vdom/patch.js":12}],8:[function(e,n){function t(e,n,t){for(var i in n){var s=n[i];void 0===s?r(e,i,s,t):a(s)?(r(e,i,s,t),s.hook&&s.hook(e,i,t?t[i]:void 0)):u(s)?o(e,n,t,i,s):e[i]=s}}function r(e,n,t,r){if(r){var o=r[n];if(a(o))o.unhook&&o.unhook(e,n,t);else if("attributes"===n)for(var i in o)e.removeAttribute(i);else if("style"===n)for(var u in o)e.style[u]="";else e[n]="string"==typeof o?"":null}}function o(e,n,t,r,o){var a=t?t[r]:void 0;if("attributes"!==r){if(a&&u(a)&&i(a)!==i(o))return void(e[r]=o);u(e[r])||(e[r]={});var s="style"===r?"":void 0;for(var c in o){var f=o[c];e[r][c]=void 0===f?s:f}}else for(var l in o){var d=o[l];void 0===d?e.removeAttribute(l):e.setAttribute(l,d)}}function i(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var u=e("is-object"),a=e("../vnode/is-vhook.js");n.exports=t},{"../vnode/is-vhook.js":16,"is-object":5}],9:[function(e,n){function t(e,n){var c=n?n.document||r:r,f=n?n.warn:null;if(e=s(e).a,a(e))return e.init();if(u(e))return c.createTextNode(e.text);if(!i(e))return f&&f("Item is not a valid virtual dom node",e),null;var l=null===e.namespace?c.createElement(e.tagName):c.createElementNS(e.namespace,e.tagName),d=e.properties;o(l,d);for(var p=e.children,v=0;v<p.length;v++){var m=t(p[v],n);m&&l.appendChild(m)}return l}var r=e("global/document"),o=e("./apply-properties"),i=e("../vnode/is-vnode.js"),u=e("../vnode/is-vtext.js"),a=e("../vnode/is-widget.js"),s=e("../vnode/handle-thunk.js");n.exports=t},{"../vnode/handle-thunk.js":14,"../vnode/is-vnode.js":17,"../vnode/is-vtext.js":18,"../vnode/is-widget.js":19,"./apply-properties":8,"global/document":4}],10:[function(e,n){function t(e,n,t,o){return t&&0!==t.length?(t.sort(i),r(e,n,t,o,0)):{}}function r(e,n,t,i,a){if(i=i||{},e){o(t,a,a)&&(i[a]=e);var s=n.children;if(s)for(var c=e.childNodes,f=0;f<n.children.length;f++){a+=1;var l=s[f]||u,d=a+(l.count||0);o(t,a,d)&&r(c[f],l,t,i,a),a=d}}return i}function o(e,n,t){if(0===e.length)return!1;for(var r,o,i=0,u=e.length-1;u>=i;){if(r=(u+i)/2>>0,o=e[r],i===u)return o>=n&&t>=o;if(n>o)i=r+1;else{if(!(o>t))return!0;u=r-1}}return!1}function i(e,n){return e>n?1:-1}var u={};n.exports=t},{}],11:[function(e,n){function t(e,n,t){var s=e.type,d=e.vNode,v=e.patch;switch(s){case p.REMOVE:return r(n,d);case p.INSERT:return o(n,v,t);case p.VTEXT:return i(n,d,v,t);case p.WIDGET:return u(n,d,v,t);case p.VNODE:return a(n,d,v,t);case p.ORDER:return c(n,v),n;case p.PROPS:return l(n,v,d.properties),n;case p.THUNK:return f(n,t.patch(n,v,t));default:return n}}function r(e,n){var t=e.parentNode;return t&&t.removeChild(e),s(e,n),null}function o(e,n,t){var r=v(n,t);return e&&e.appendChild(r),e}function i(e,n,t,r){var o;if(3===e.nodeType)e.replaceData(0,e.length,t.text),o=e;else{var i=e.parentNode;o=v(t,r),i&&o!==e&&i.replaceChild(o,e)}return o}function u(e,n,t,r){var o,i=m(n,t);o=i?t.update(n,e)||e:v(t,r);var u=e.parentNode;return u&&o!==e&&u.replaceChild(o,e),i||s(e,n),o}function a(e,n,t,r){var o=e.parentNode,i=v(t,r);return o&&i!==e&&o.replaceChild(i,e),i}function s(e,n){"function"==typeof n.destroy&&d(n)&&n.destroy(e)}function c(e,n){for(var t,r,o,i=e.childNodes,u={},a=0;a<n.removes.length;a++)r=n.removes[a],t=i[r.from],r.key&&(u[r.key]=t),e.removeChild(t);for(var s=i.length,c=0;c<n.inserts.length;c++)o=n.inserts[c],t=u[o.key],e.insertBefore(t,o.to>=s++?null:i[o.to])}function f(e,n){return e&&n&&e!==n&&e.parentNode&&e.parentNode.replaceChild(n,e),n}var l=e("./apply-properties"),d=e("../vnode/is-widget.js"),p=e("../vnode/vpatch.js"),v=e("./create-element"),m=e("./update-widget");n.exports=t},{"../vnode/is-widget.js":19,"../vnode/vpatch.js":22,"./apply-properties":8,"./create-element":9,"./update-widget":13}],12:[function(e,n){function t(e,n){return r(e,n)}function r(e,n,t){var a=i(n);if(0===a.length)return e;var c=s(e,n.a,a),f=e.ownerDocument;t||(t={patch:r},f!==u&&(t.document=f));for(var l=0;l<a.length;l++){var d=a[l];e=o(e,c[d],n[d],t)}return e}function o(e,n,t,r){if(!n)return e;var o;if(a(t))for(var i=0;i<t.length;i++)o=c(t[i],n,r),n===e&&(e=o);else o=c(t,n,r),n===e&&(e=o);return e}function i(e){var n=[];for(var t in e)"a"!==t&&n.push(Number(t));return n}var u=e("global/document"),a=e("x-is-array"),s=e("./dom-index"),c=e("./patch-op");n.exports=t},{"./dom-index":10,"./patch-op":11,"global/document":4,"x-is-array":6}],13:[function(e,n){function t(e,n){return r(e)&&r(n)?"name"in e&&"name"in n?e.id===n.id:e.init===n.init:!1}var r=e("../vnode/is-widget.js");n.exports=t},{"../vnode/is-widget.js":19}],14:[function(e,n){function t(e,n){var t=e,o=n;return a(n)&&(o=r(n,e)),a(e)&&(t=r(e,null)),{a:t,b:o}}function r(e,n){var t=e.vnode;if(t||(t=e.vnode=e.render(n)),!(o(t)||i(t)||u(t)))throw new Error("thunk did not return a valid node");return t}var o=e("./is-vnode"),i=e("./is-vtext"),u=e("./is-widget"),a=e("./is-thunk");n.exports=t},{"./is-thunk":15,"./is-vnode":17,"./is-vtext":18,"./is-widget":19}],15:[function(e,n){function t(e){return e&&"Thunk"===e.type}n.exports=t},{}],16:[function(e,n){function t(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}n.exports=t},{}],17:[function(e,n){function t(e){return e&&"VirtualNode"===e.type&&e.version===r}var r=e("./version");n.exports=t},{"./version":20}],18:[function(e,n){function t(e){return e&&"VirtualText"===e.type&&e.version===r}var r=e("./version");n.exports=t},{"./version":20}],19:[function(e,n){function t(e){return e&&"Widget"===e.type}n.exports=t},{}],20:[function(e,n){n.exports="2"},{}],21:[function(e,n){function t(e,n,t,r,f){this.tagName=e,this.properties=n||s,this.children=t||c,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof f?f:null;var l,d=t&&t.length||0,p=0,v=!1,m=!1,h=!1;for(var y in n)if(n.hasOwnProperty(y)){var g=n[y];a(g)&&g.unhook&&(l||(l={}),l[y]=g)}for(var k=0;d>k;k++){var b=t[k];o(b)?(p+=b.count||0,!v&&b.hasWidgets&&(v=!0),!m&&b.hasThunks&&(m=!0),h||!b.hooks&&!b.descendantHooks||(h=!0)):!v&&i(b)?"function"==typeof b.destroy&&(v=!0):!m&&u(b)&&(m=!0)}this.count=d+p,this.hasWidgets=v,this.hasThunks=m,this.hooks=l,this.descendantHooks=h}var r=e("./version"),o=e("./is-vnode"),i=e("./is-widget"),u=e("./is-thunk"),a=e("./is-vhook");n.exports=t;var s={},c=[];t.prototype.version=r,t.prototype.type="VirtualNode"},{"./is-thunk":15,"./is-vhook":16,"./is-vnode":17,"./is-widget":19,"./version":20}],22:[function(e,n){function t(e,n,t){this.type=Number(e),this.vNode=n,this.patch=t}var r=e("./version");t.NONE=0,t.VTEXT=1,t.VNODE=2,t.WIDGET=3,t.PROPS=4,t.ORDER=5,t.INSERT=6,t.REMOVE=7,t.THUNK=8,n.exports=t,t.prototype.version=r,t.prototype.type="VirtualPatch"},{"./version":20}],23:[function(e,n){function t(e){this.text=String(e)}var r=e("./version");n.exports=t,t.prototype.version=r,t.prototype.type="VirtualText"},{"./version":20}],24:[function(e,n){function t(e,n){var u;for(var a in e){a in n||(u=u||{},u[a]=void 0);var s=e[a],c=n[a];if(s!==c)if(o(s)&&o(c))if(r(c)!==r(s))u=u||{},u[a]=c;else if(i(c))u=u||{},u[a]=c;else{var f=t(s,c);f&&(u=u||{},u[a]=f)}else u=u||{},u[a]=c}for(var l in n)l in e||(u=u||{},u[l]=n[l]);return u}function r(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var o=e("is-object"),i=e("../vnode/is-vhook");n.exports=t},{"../vnode/is-vhook":16,"is-object":5}],25:[function(e,n){function t(e,n){var t={a:e};return r(e,n,t,0),t}function r(e,n,t,r){if(e!==n){var u=t[r],s=!1;if(b(e)||b(n))a(e,n,t,r);else if(null==n)k(e)||(i(e,t,r),u=t[r]),u=v(u,new h(h.REMOVE,e,n));else if(y(n))if(y(e))if(e.tagName===n.tagName&&e.namespace===n.namespace&&e.key===n.key){var c=_(e.properties,n.properties);c&&(u=v(u,new h(h.PROPS,e,c))),u=o(e,n,t,u,r)}else u=v(u,new h(h.VNODE,e,n)),s=!0;else u=v(u,new h(h.VNODE,e,n)),s=!0;else g(n)?g(e)?e.text!==n.text&&(u=v(u,new h(h.VTEXT,e,n))):(u=v(u,new h(h.VTEXT,e,n)),s=!0):k(n)&&(k(e)||(s=!0),u=v(u,new h(h.WIDGET,e,n)));u&&(t[r]=u),s&&i(e,t,r)}}function o(e,n,t,o,i){for(var u=e.children,a=l(u,n.children),s=a.children,c=u.length,f=s.length,d=c>f?c:f,p=0;d>p;p++){var m=u[p],g=s[p];i+=1,m?r(m,g,t,i):g&&(o=v(o,new h(h.INSERT,null,g))),y(m)&&m.count&&(i+=m.count)}return a.moves&&(o=v(o,new h(h.ORDER,e,a.moves))),o}function i(e,n,t){c(e,n,t),u(e,n,t)}function u(e,n,t){if(k(e))"function"==typeof e.destroy&&(n[t]=v(n[t],new h(h.REMOVE,e,null)));else if(y(e)&&(e.hasWidgets||e.hasThunks))for(var r=e.children,o=r.length,i=0;o>i;i++){var s=r[i];t+=1,u(s,n,t),y(s)&&s.count&&(t+=s.count)}else b(e)&&a(e,null,n,t)}function a(e,n,r,o){var i=E(e,n),u=t(i.a,i.b);s(u)&&(r[o]=new h(h.THUNK,null,u))}function s(e){for(var n in e)if("a"!==n)return!0;return!1}function c(e,n,t){if(y(e)){if(e.hooks&&(n[t]=v(n[t],new h(h.PROPS,e,f(e.hooks)))),e.descendantHooks||e.hasThunks)for(var r=e.children,o=r.length,i=0;o>i;i++){var u=r[i];t+=1,c(u,n,t),y(u)&&u.count&&(t+=u.count)}}else b(e)&&a(e,null,n,t)}function f(e){var n={};for(var t in e)n[t]=void 0;return n}function l(e,n){var t=p(n),r=t.keys,o=t.free;if(o.length===n.length)return{children:n,moves:null};var i=p(e),u=i.keys,a=i.free;if(a.length===e.length)return{children:n,moves:null};for(var s=[],c=0,f=o.length,l=0,v=0;v<e.length;v++){var m,h=e[v];h.key?r.hasOwnProperty(h.key)?(m=r[h.key],s.push(n[m])):(m=v-l++,s.push(null)):f>c?(m=o[c++],s.push(n[m])):(m=v-l++,s.push(null))}for(var y=c>=o.length?n.length:o[c],g=0;g<n.length;g++){var k=n[g];k.key?u.hasOwnProperty(k.key)||s.push(k):g>=y&&s.push(k)}for(var b,E=s.slice(),_=0,w=[],x=[],S=0;S<n.length;){var N=n[S];for(b=E[_];null===b&&E.length;)w.push(d(E,_,null)),b=E[_];b&&b.key===N.key?(_++,S++):N.key?(b&&b.key&&r[b.key]!==S+1?(w.push(d(E,_,b.key)),b=E[_],b&&b.key===N.key?_++:x.push({key:N.key,to:S})):x.push({key:N.key,to:S}),S++):b&&b.key&&w.push(d(E,_,b.key))}for(;_<E.length;)b=E[_],w.push(d(E,_,b&&b.key));return w.length!==l||x.length?{children:s,moves:{removes:w,inserts:x}}:{children:s,moves:null}}function d(e,n,t){return e.splice(n,1),{from:n,key:t}}function p(e){for(var n={},t=[],r=e.length,o=0;r>o;o++){var i=e[o];i.key?n[i.key]=o:t.push(o)}return{keys:n,free:t}}function v(e,n){return e?(m(e)?e.push(n):e=[e,n],e):n}var m=e("x-is-array"),h=e("../vnode/vpatch"),y=e("../vnode/is-vnode"),g=e("../vnode/is-vtext"),k=e("../vnode/is-widget"),b=e("../vnode/is-thunk"),E=e("../vnode/handle-thunk"),_=e("./diff-props");n.exports=t},{"../vnode/handle-thunk":14,"../vnode/is-thunk":15,"../vnode/is-vnode":17,"../vnode/is-vtext":18,"../vnode/is-widget":19,"../vnode/vpatch":22,"./diff-props":24,"x-is-array":6}],26:[function(e,n,t){var r=e("./utils"),o=r.memoGobalObject();t.debug=!1,t.perfs=!1,t.voidElements=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"],t.events=["wheel","scroll","touchcancel","touchend","touchmove","touchstart","click","doubleclick","drag","dragend","dragenter","dragexit","dragleave","dragover","dragstart","drop","change","input","submit","focus","blur","keydown","keypress","keyup","copy","cut","paste","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup"];var i={mark:function(){},measure:function(){},getEntriesByName:function(){return[]},getEntriesByType:function(){return[]},clearMarks:function(){},clearMeasures:function(){}};"undefined"==typeof o&&(o={__fake:!0}),"undefined"==typeof o.console&&(o.console={log:function(){},error:function(){},table:function(){},debug:function(){},trace:function(){}}),"undefined"!=typeof o.performance&&"undefined"!=typeof o.performance.mark&&"undefined"!=typeof o.performance.measure&&(i=o.performance),o.requestAnimationFrame=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame||function(){return o.console&&console.error("[ELEMJS] No requestAnimationFrame, using lame polyfill ..."),function(e){o.setTimeout(e,1e3/60)}}();var u="ElemMeasureStart",a="ElemMeasureStop",s="ElemComponentRenderingMeasure",c=[s];t.markStart=function(e){t.perfs&&i.mark(e?e+"_start":u)},t.markStop=function(e){t.perfs&&(e?(i.mark(e+"_stop"),i.measure(e,e+"_start",e+"_stop"),r.contains(c,e)||c.push(e)):(i.mark(a),i.measure(s,u,a)))},t.collectMeasures=function(){if(!t.perfs)return[];var e=[];return r.each(c,function(n){e=e.concat(i.getEntriesByName(n))}),i.clearMarks(),i.clearMeasures(),c=[s],e},t.printMeasures=function(){t.perfs&&o.console&&console.table(t.collectMeasures())},t.defer=function(e){o.requestAnimationFrame.call(o,e)},t.defered=function(e){return function(){t.defer(e)}},t.__internalAccess={},Function.prototype.bind||(o.console&&console.error("[ELEMJS] No Function.prototype.bind, using polyfill ..."),Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - can't call bounded element");var n=Array.prototype.slice.call(arguments,1),t=this,r=function(){},o=function(){return t.apply(this instanceof r&&e?this:e,n.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o})},{"./utils":34}],27:[function(e,n,t){function r(e,n){return e.attributes&&e.attributes["data-"+n]}function o(e,n){return e.dataset?e.dataset[n]:e.attributes["data-"+n]}function i(e){d[e]&&(d[e](),delete d[e])}function u(e,n){function t(){c.markStart(a+".globalRendering"),l.each(y,function(e){delete h[e]}),y=[];var t=document.activeElement||{},r=t.dataset?t.dataset.key:(t.attributes||[]).key;n.context.refs={};var o=[];l.each(g,function(e){i(e)}),g=[],b(v,l.clone(m),n.context),c.markStart(a+".render");var s=E(v,l.clone(m),n.context);if(c.markStop(a+".render"),u.render(s,e,{waitingHandlers:o,__rootListener:!0,refs:n.context.refs,__innerComponents:g}),_(v,l.clone(m),n.context),r){var f=document.querySelector('[data-key="'+r+'"]');if(l.focus(f),f.value){var d=2*f.value.length;f.setSelectionRange(d,d)}}l.each(o,function(e){y.push(e.id+"_"+e.event.replace("on","")),h[e.id+"_"+e.event.replace("on","")]=function(){e.callback.apply({render:E},arguments)}}),c.markStop(a+".globalRendering")}var u=c.__internalAccess.api,a=n.name||"Component",s=n.defaultProps||function(){return{}},p=n.initialState||function(){return{}},v=f(p()),m=s();n.props=m,n.state=v.all(),n.setState=v.set,n.replaceState=v.replace,v.onChange(function(){n.state=v.all()});var h={},y=[],g=[];l.each(l.keys(n),function(e){l.isFunction(n[e])&&(n[e]=n[e].bind(n))});var k=n.init||function(){},b=n.beforeRender||function(){},E=n.render||function(){},_=n.afterRender||function(){},w=n.unmount||function(){},x=function(){return l.findNode(e)};n.context={refs:{},getDOMNode:x};var S=function(e){e=e||window.event;var n=e.target||e.srcElement,t=o(n,"nodeid")+"_"+e.type;if(h[t])h[t](e);else{for(;!h[t]&&n&&null!==n&&r(n,"nodeid");)n=n.parentElement,n&&null!==n&&r(n,"nodeid")&&(t=o(n,"nodeid")+"_"+e.type);h[t]&&h[t](e)}};return i(e),d[e]=function(){w(v,l.clone(m),n.context),v.replace({},!0),l.off(e,c.events,S)},k(v,l.clone(m)),l.on(e,c.events,S),t(),v.onChange(t),v}function a(e,n){var t=c.__internalAccess.api,r=e.name||"Component",o=e.defaultProps||function(){return{}},i=e.initialState||function(){return{}},u=f(i()),a=o();e.props=a,e.state=u.all(),e.setState=u.set,e.replaceState=u.replace,e.context={refs:p,getDOMNode:function(){}},l.each(l.keys(e),function(n){l.isFunction(e[n])&&(e[n]=e[n].bind(e))});var s=e.render,d=e.afterRender||function(){};e.init&&e.init(u,l.clone(a)),c.markStart(r+".globalRendering");var p={};c.markStart(r+".render");var v=s(u,l.clone(a),e.context);c.markStop(r+".render");var m=t.renderToString(v,{waitingHandlers:[],__rootListener:!0,refs:p,__noDataId:n,__innerComponents:[]});return d(u,l.clone(a),e.context),c.markStop(r+".globalRendering"),m}function s(e){var n={};return e.defaultProps&&(n=e.defaultProps()),function(t,r){var o={__componentFactory:!0,renderToStaticHtml:function(){var r=l.clone(e);return r.props=l.extend(l.clone(n||{}),t||{}),a(r,!0)},renderToString:function(){var r=l.clone(e);return r.props=l.extend(l.clone(n||{}),t||{}),a(r)},renderTo:function(r,o){var i=l.clone(e);return i.defaultProps=function(){return l.extend(l.clone(n||{}),t||{})},o?void c.defer(function(){u(r,i)}):u(r,i)}};return r?o.renderTo(r):o}}var c=e("./common"),f=e("./state"),l=e("./utils"),d={};t.unmountComponent=i,t.component=function(e){if(!e.container)return s(e);var n=e.container;u(n,e)},t.componentToString=function(e){var n=l.clone(e);return n.props=l.extend(l.clone(e.props||{}),props||{}),a(n)}},{"./common":26,"./state":33,"./utils":34}],28:[function(n,t,r){function o(e){if(v.isUndefined(e))return"";var n=v.map(v.keys(e),function(n){var t=v.dasherize(n);"className"===n&&(t="class");var r=e[n];return!v.isUndefined(r)&&v.isFunction(r)&&(r=r()),v.isUndefined(r)?void 0:t+": "+r+";"});return n=v.filter(n,function(e){return!v.isUndefined(e)}),n.join(" ")}function i(e){if(v.isUndefined(e))return[];var n=v.map(v.keys(e),function(n){var t=e[n];return v.isUndefined(t)||t!==!0?void 0:v.dasherize(n)});return n=v.filter(n,function(e){return!v.isUndefined(e)})}function u(e){return 0===e?e:""===e?[]:e||[]}function a(e){return{getDOMNode:function(){return v.findNode('[data-nodeid="'+e+'"]')}}}function s(e,n,t){v.each(v.keys(e),function(r){var o=v.dasherize(r);v.startsWith(o,"on")&&t&&t.waitingHandlers&&t.waitingHandlers.push({root:t.root,id:n,event:o.toLowerCase(),callback:e[r]}),"ref"===o&&t&&t.refs&&(t.refs[e[r]]=a(n))})}function c(e,n){return{key:e,value:n}}function f(e){if(v.isUndefined(e))return[];var n=[];return v.each(v.keys(e),function(t){var r=v.dasherize(t);if("className"===t&&(r="class"),!v.startsWith(r,"on")&&"ref"!==r){var u=e[t];!v.isUndefined(u)&&v.isFunction(u)&&(u=u()),v.isUndefined(u)||n.push(v.isObject(u)&&"style"===r?c("style",o(u)):v.isArray(u)&&"class"===r?c(r,u.join(" ")):v.isObject(u)&&"class"===r?c(r,i(u).join(" ")):c(r,u))}}),n}function l(e,n,t){var r=n.namespace;delete n.namespace;var o=v.uniqueId("node_");!v.isUndefined(t)||v.isUndefined(n)||n.__isAttrs||(t=n,n={}),arguments.length>3&&(e=arguments[0],n=n.isElement?{}:arguments[1],t=[].concat(arguments),t.shift(),t.shift()),e=v.escape(e)||"unknown",n=n||{},t=u(t),(v.isRegExp(t)||v.isUndefined(t)||v.isNull(t))&&(t=[]),v.isArray(t)&&(t=v.chain(t).map(function(e){return v.isFunction(e)?e():e}).filter(function(e){return!v.isUndefined(e)}).value());var i=v.contains(p.voidElements,e.toUpperCase())&&(v.isNull(t)||v.isUndefined(t)||v.isArray(t)&&0===t.length),a=f(n);return a.push(c("data-nodeid",v.escape(o))),p.debug&&a.push(c("title",v.escape(o))),{name:e,attrs:n,children:t,isElement:!0,nodeId:o,outputWith:function(u,c){function f(e,n){if(v.isNumber(e))n.appendChild(u.createTextNode(e+""));else if(v.isString(e))n.appendChild(u.createTextNode(e));else if(v.isBoolean(e))n.appendChild(u.createTextNode(e+""));else if(v.isObject(e)&&e.isElement)n.appendChild(e.outputWith(u,c));else if(v.isObject(e)&&e.__asHtml)n.innerHTML=e.__asHtml;else if(e.__componentFactory){var t=v.escape(v.uniqueId("component_")),r=u.createElement("span",[{key:"data-componentid",value:t}]);n.appendChild(r),c.__innerComponents.push('[data-componentid="'+t+'"]'),e.renderTo('[data-componentid="'+t+'"]',!0)}else n.appendChild(u.createTextNode(e.toString()))}this.name;s(n,o,c);var l=void 0;return l=r?u.createElementNS(r,v.escape(e),a):u.createElement(v.escape(e),a),i||(v.isArray(t)?v.each(t,function(e){f(e,l)}):f(t,l)),l}}}function d(e,n,t){return v.isFunction(e)&&(e=e((t||{props:{}}).props)),v.isUndefined(e)?{render:function(){throw new Error("Your element is undefined")}}:e.outputWith(n,t)}var p=n("./common"),v=n("./utils"),m=n("./component"),h=n("./state"),y=n("./webcomponent").registerWebComponent,g=n("./output/stringify"),k=n("./events");r.svgNS="http://www.w3.org/2000/svg";var b=n("./output/output");r.renderToJson=function(e,n){p.markStart("Elem.renderToJson");var t=b(n),r=d(e,t).render();return p.markStop("Elem.renderToJson"),r},r.renderToJsonString=function(e,n,t){return t?Json.stringify(r.renderToJson(e,n),null,2):Json.stringify(r.renderToJson(e,n))},r.renderToString=function(e,n){p.markStart("Elem.renderToString");var t=g(n),r=d(e,t).render();return p.markStop("Elem.renderToString"),r},r.renderToStaticHtml=function(e){p.markStart("Elem.renderToStaticHtml");var n=d(e,g({__noDataId:!0})).render();return p.markStop("Elem.renderToStaticHtml"),n},r.el=l,r.sel=function(e,n){return l(e,{},n)},r.vel=function(e,n){return l(e,n,[])},r.svg=function(e,n,t){return n.namespace=r.svgNS,t?l(e,n,t):l(e,{},n)},r.vsvg=function(e,n){return n.namespace=r.svgNS,l(e,n,[])},r.nbsp=function(e){return l("span",{__asHtml:v.times(e||1,function(){return"&nbsp;"})})},r.text=function(e){return l("span",{},e)},r.renderWith=function(e){p.markStart("Elem.renderWith");var n={},t={};2===arguments.length&&(n=arguments[1]),3===arguments.length&&(t=arguments[1],n=arguments[2]),t=t||{};var r=t.waitingHandlers||[],o=t.refs||{},i=t.props||{},u=t.__innerComponents||[],a=t.__rootListener||!1,s={waitingHandlers:r,refs:o,props:i,__rootListener:a,__innerComponents:u};n.setRenderContext(s);var c=d(e,n,s);return p.markStop("Elem.renderWith"),c};var E=n("./output/virtualdom");r.render=function(e,n,t){p.markStart("Elem.render");var o=E(t);r.renderWith(e,t,o).render(n),p.markStop("Elem.render")},r.unmountComponent=m.unmountComponent,r.component=m.component,r.componentToString=m.componentToString,r.state=h,r.Utils=v,r.registerWebComponent=y,r.dispatcher=k,r.Perf={start:function(){p.perfs=!0},stop:function(){p.stop=!1},markStart:p.markStart,markStop:p.markStop,collectMeasures:p.collectMeasures,printMeasures:p.printMeasures},r.defer=p.defer,r.predicate=function(e,n){return v.isFunction(e)?e()===!0?n:void 0:e===!0?n:void 0},r.style=function(e){var n={},t=v.keys(e);return v.each(t,function(t){var r=e[t];v.isObject(r)&&(n[t]=v.extend({},{extend:function(e){return v.extend({},e,r)}},r))}),n.extend=v.extend({},{extend:function(n){return v.extend({},n,e)}},e),n},p.__internalAccess.api=r,"function"==typeof e&&e.amd&&e("elem",[],function(){return t.exports})},{"./common":26,"./component":27,"./events":29,"./output/output":30,"./output/stringify":31,"./output/virtualdom":32,"./state":33,"./utils":34,"./webcomponent":35}],29:[function(e,n){var t=e("./utils"),r=/\s+/;n.exports=function(){function e(e,o){var i=[e];r.test(e)&&(i=e.split(r)),t.each(i,function(e){t.each(n,function(n){"all"===n.name?n.callback(e,o):n.name===e&&n.callback(o)})})}var n=[];return{trigger:e,dispatch:e,on:function(e,t){this.off(e,t),n.push({name:e,callback:t})},off:function(e,r){n=t.filter(n,function(n){return n.name===e&&n.callback===r?!1:!0})}}}},{"./utils":34}],30:[function(e,n){var t=e("../utils");n.exports=function(e){function n(e,n){var n=n||[],r=[];return{appendChild:function(e){r.push(e)},render:function(){return{name:e,attrs:n,children:t.map(r,function(){return r.render()})}}}}function r(e,t,r){return n(t,r,e)}function o(e,t){return n(e,t)}function i(e){return{render:function(){return e}}}return e=e||{},{name:"JsonOutput",createTextNode:i,createElementNS:r,createElement:o}}},{"../utils":34}],31:[function(e,n){var t=e("../common"),r=e("../utils");n.exports=function(e){function n(n,o){var o=o||[],i=[];return{appendChild:function(e){i.push(e)},render:function(){if(this.value){var u=this.value;i.push({render:function(){return u}})}if(this.innerHTML){var a=this.innerHTML;i.push({render:function(){return a}})}o=r.map(o,function(n){var t=n.key,r=n.value;return"data-nodeid"===t?e.__noDataId?"":'data-snodeid="'+r+'"':t+'="'+r+'"'});var s=r.contains(t.voidElements,n.toUpperCase())&&0===i.length;return s?"<"+n+" "+o.join(" ")+" />":"<"+n+" "+o.join(" ")+">"+r.map(i,function(e){return e.render()}).join("")+"</"+n+">"}}}function o(e,t,r){return n(t,r,e)}function i(e,t){return n(e,t)}function u(e){return{render:function(){return e}}}return e=e||{},{name:"StringOutput",createTextNode:u,createElementNS:o,createElement:i}}},{"../common":26,"../utils":34}],32:[function(e,n){var t=e("../utils"),r=(e("../common"),e("virtual-dom/diff")),o=e("virtual-dom/patch"),i=e("virtual-dom/create-element"),u=e("virtual-dom/vnode/vnode"),a=e("virtual-dom/vnode/vtext"),s={};n.exports=function(e){function n(e){p=e}function c(e,n,a){n=n||[];var c=[];return{appendChild:function(e){c.push(e)},render:function(f){function l(){var e={},r=void 0;return e.attributes={},t.each(n,function(n){"data-nodeid"===n.key&&(r=n.value),"style"===n.key?e.attributes.style=n.value:"class"===n.key?e.attributes["class"]=n.value:e.attributes[n.key]=n.value}),p.__rootListener||t.each(p.waitingHandlers,function(n){n.id===r&&(e[n.event]=function(){n.callback.apply({},arguments)})}),e}if(!f)return new u(e,l(),t.map(c,function(e){return e.render()}));var d=document;if(f.ownerDocument&&(d=f.ownerDocument),t.isString(f)&&(f=d.querySelector(f)),null!==f){var v=f.getAttribute("data-rootid");v||(v=t.uniqueId("data-rootid-"),f.setAttribute("data-rootid",v));var m=s[v];if(m){var h=new u(e,l(),t.map(c,function(e){return e.render()}),n.key,a),y=r(m.tree,h),g=o(m.rootNode,y);s[v]={tree:h,rootNode:g}}else{var k=new u(e,l(),t.map(c,function(e){return e.render()}),n.key,a),g=i(k);f.appendChild(g),s[v]={tree:k,rootNode:g}}}}}}function f(e,n,t){return c(n,t,e)}function l(e,n){return c(e,n)}function d(e){return{render:function(){return new a(e)}}}e=e||{};{var p={};document}return{name:"VirtualDOMOuput",createTextNode:d,createElementNS:f,createElement:l,setRenderContext:n}}},{"../common":26,"../utils":34,"virtual-dom/create-element":2,"virtual-dom/diff":3,"virtual-dom/patch":7,"virtual-dom/vnode/vnode":21,"virtual-dom/vnode/vtext":23}],33:[function(e,n){var t=e("./utils");n.exports=function(e){function n(){t.each(i,function(e){e()})}function r(e,r){var i=t.isBoolean(r)&&r===!0;!t.isUndefined(e)&&t.isObject(e)&&(t.map(t.keys(e),function(n){o[n]=e[n]}),i||n(),i||(r||function(){})())}var o=t.extend({},e||{}),i=[],u=function(){return t.clone(o)};return t.extend(u,{onChange:function(e){i.push(e)},get:function(e){return o[e]},all:function(){return t.clone(o)},forceUpdate:function(){n()},set:r,replace:function(e,n){o={},r(e,n)},remove:function(e){delete o[e],n()}})}},{"./utils":34}],34:[function(e,n,t){(function(e){function n(){return void 0!==typeof self?self:void 0!==typeof e?e:void 0!==typeof window?window:new Function("return this")()}function r(e){if(!S(e))return[];if(Object.keys)return Object.keys(e);var n=[];for(var t in e)M(e,t)&&n.push(t);return n}function o(e){for(var n=n(e),t=n.length,r=Array(t),o=0;t>o;o++)r[o]=e[n[o]];return r}function i(e,n,t){if(null==e)return-1;var r=0,o=e.length;if(t){if("number"!=typeof t)return r=sortedIndex(e,n),e[r]===n?r:-1;r=0>t?Math.max(0,o+t):t}for(;o>r;r++)if(e[r]===n)return r;return-1}function u(e,n){if(null==e)return e;var t,r=e.length;if(r===+r)for(t=0;r>t;t++)n(e[t],t,e);else{var o=o(e);for(t=0,r=o.length;r>t;t++)n(e[o[t]],o[t],e)}return e}function a(e,n){if(null==e)return[];for(var t,r=e.length!==+e.length&&r(e),o=(r||e).length,i=Array(o),u=0;o>u;u++)t=r?r[u]:u,i[u]=n(e[t],t,e);return i}function s(e,n){var t=[];return null==e?t:(u(e,function(e,r,o){n(e,r,o)&&t.push(e)}),t)}function c(e,n,t){null==e&&(e=[]);var r,o=e.length!==+e.length&&o(e),i=(o||e).length,u=0;if(arguments.length<3){if(!i)throw new TypeError(reduceError);t=e[o?o[u++]:u++]}for(;i>u;u++)r=o?o[u]:u,t=n(t,e[r],r,e);return t}function f(e,n,t){return s(e,m(n),t)}function l(e,n){return s(e,d(n))}function d(e){var n=n(e),t=n.length;return function(e){if(null==e)return!t;e=new Object(e);for(var r=0;t>r;r++){var o=n[r],i=o[0];if(o[1]!==e[i]||!(i in e))return!1}return!0}}function p(e){return e}function v(e){return function(n){return n[e]}}function m(e){return function(){return!e.apply(this,arguments)}}function h(e){for(var n=n(e),t=n.length,r=Array(t),o=0;t>o;o++)r[o]=[n[o],e[n[o]]];return r}function y(e){function n(){return{value:function(){return t},map:function(e){return t=r.map(t,e),this},filter:function(e){return t=r.filter(t,e),this},each:function(e){return r.each(t,e),this},values:function(){return r.values()},keys:function(){return r.keys()},reduce:function(e,n,o){return r.reduce(t,e,n,o)},reject:function(e,n){return t=r.reject(t,e,n),this},where:function(e){return t=r.where(t,e),this}}}var t=e,r=this;return n()}function g(e,n){return null==e?!1:(e.length!==+e.length&&(e=o(e)),i(e,n)>=0)}function k(e){var n=++B.__ElemInternals.Utils.__idCounter+"";return e?e+n:n}function b(e,n){for(var t=[],r=0;e>r;r++)t.push(n(e));return t}function E(e){return S(e)?x(e)?e.slice():_({},e):e}function _(e){if(!S(e))return e;for(var n,t,r=1,o=arguments.length;o>r;r++){n=arguments[r];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}function w(e){return void 0===e}function x(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function S(e){var n=typeof e;return"function"===n||"object"===n&&!!e}function N(e){return"[object Number]"===Object.prototype.toString.call(e)}function O(e){return"[object String]"===Object.prototype.toString.call(e)}function j(e){return e===!0||e===!1||"[object Boolean]"===Object.prototype.toString.call(e)}function T(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function C(e){return"[object Function]"===Object.prototype.toString.call(e)}function A(e){return null===e}function R(e){return N(e)&&e!==+e}function M(e,n){return null!=e&&Object.prototype.hasOwnProperty.call(e,n)}function U(e){return e.replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase().replace(/_/g,"-")}function P(e,n){return 0===e.indexOf(n)}function I(e){e.focus&&e.focus()}function D(e){return e===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(e.type||e.href||~e.tabIndex)}function F(e,n,t){var r=O(e)?document.querySelector(e):e;u(n,function(e){r&&null!==r&&(r.addEventListener?r.addEventListener(e,t,!1):r.attachEvent&&r.addEventListener(e,t))})}function H(e,n,t){var r=O(e)?document.querySelector(e):e;u(n,function(e){r&&null!==r&&r.removeEventListener&&r.removeEventListener(e,t,!1)})}function L(e){return document.querySelector(e)}function W(e,n){var t=n;t||(t="");var r,o={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]instanceof Object?W(e[r],r+"."):t+r);return o}function q(e){var n=void 0;return function(){return n||(n=e()),n}}var B=n()||{};B.__ElemInternals=B.__ElemInternals||{},B.__ElemInternals.Utils=B.__ElemInternals.Utils||{},B.__ElemInternals.Utils.__idCounter=B.__ElemInternals.Utils.__idCounter||0;
var V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},J=function(e,n){var t=function(n){return e[n]},r="(?:"+n(e).join("|")+")",o=RegExp(r),i=RegExp(r,"g");return function(e){return e=null==e?"":""+e,o.test(e)?e.replace(i,t):e}};t.escape=J(V,r),t.keys=r,t.values=o,t.indexOf=i,t.each=u,t.map=a,t.filter=s,t.chain=y,t.contains=g,t.uniqueId=k,t.times=b,t.clone=E,t.extend=_,t.isUndefined=w,t.isArray=x,t.isObject=S,t.isNumber=N,t.isString=O,t.isBoolean=j,t.isRegExp=T,t.isFunction=C,t.isNull=A,t.isNaN=R,t.has=M,t.dasherize=U,t.startsWith=P,t.focus=I,t.hasFocus=D,t.on=F,t.off=H,t.findNode=L,t.reduce=c,t.reject=f,t.where=l,t.matches=d,t.negate=m,t.property=v,t.identity=p,t.pairs=h,t.keyMirror=W,t.globalObject=n,t.memoize=q,t.memoGobalObject=q(n)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,n,t){function r(e,n){var t=document,r=Object.create(HTMLElement.prototype);r.createdCallback=function(){var e=i.extend({},n);this._id=i.uniqueId("WebComponent_");var r={};for(var u in this.attributes){var a=this.attributes[u];r[a.name]=a.value}this.props=r;var c=void 0;if(c=t.createElement("content"),c.setAttribute("class","elemcomponent"),c.setAttribute("id",this._id),r.shadow){var f=this.createShadowRoot();f.appendChild(c)}else this.appendChild(c);this._theNode=c,this._internalBus=o(),this._internalBus._trigger=this._internalBus.trigger,this._internalBus.trigger=function(e,n){s.trigger("ElemEvent",{name:e,id:this._id,payload:n})}.bind(this),s.on("ElemEvent",function(e){var n=e.id;if(n!==this._id){var t=e.name,r=e.payload;this._internalBus._trigger(t,r)}}.bind(this)),r.componentsBus=this._internalBus,this.renderedElement=r.renderOnly&&r.renderOnly===!0?Elem.render(e,node):Elem.component({container:c,init:e.init,render:e.render,defaultProps:function(){return r},initialState:e.initialState})},r.attributeChangedCallback=function(e,t,r){var o=i.extend({},n);this.props[e]=r;var u=this.props;this.renderedElement=this.props.renderOnly&&this.props.renderOnly===!0?Elem.render(o,this._node):Elem.component({container:this._node,init:o.init,render:o.render,props:u,state:o.state})},u(e,{prototype:r})}var o=e("./events"),i=e("./utils"),u=void 0;try{u=(document.registerElement||document.register||function(){window.console&&console.error("[ELEMJS] No registerElement function, webcomponents will not work !!!")}).bind(document)}catch(a){}var s=o();t.registerWebComponent=u?r:function(){window.console&&console.error("[ELEMJS] WebComponent not available here :(")}},{"./events":29,"./utils":34}]},{},[28])(28)});
//# sourceMappingURL=elem.min.map